"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/i18next-browser-languagedetector@7.2.0";
exports.ids = ["vendor-chunks/i18next-browser-languagedetector@7.2.0"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/i18next-browser-languagedetector@7.2.0/node_modules/i18next-browser-languagedetector/dist/esm/i18nextBrowserLanguageDetector.js":
/*!************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/i18next-browser-languagedetector@7.2.0/node_modules/i18next-browser-languagedetector/dist/esm/i18nextBrowserLanguageDetector.js ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Browser)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/classCallCheck */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.23.8/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/createClass */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.23.8/node_modules/@babel/runtime/helpers/esm/createClass.js\");\n\n\nvar arr = [];\nvar each = arr.forEach;\nvar slice = arr.slice;\nfunction defaults(obj) {\n    each.call(slice.call(arguments, 1), function(source) {\n        if (source) {\n            for(var prop in source){\n                if (obj[prop] === undefined) obj[prop] = source[prop];\n            }\n        }\n    });\n    return obj;\n}\n// eslint-disable-next-line no-control-regex\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\nvar serializeCookie = function serializeCookie(name, val, options) {\n    var opt = options || {};\n    opt.path = opt.path || \"/\";\n    var value = encodeURIComponent(val);\n    var str = \"\".concat(name, \"=\").concat(value);\n    if (opt.maxAge > 0) {\n        var maxAge = opt.maxAge - 0;\n        if (Number.isNaN(maxAge)) throw new Error(\"maxAge should be a Number\");\n        str += \"; Max-Age=\".concat(Math.floor(maxAge));\n    }\n    if (opt.domain) {\n        if (!fieldContentRegExp.test(opt.domain)) {\n            throw new TypeError(\"option domain is invalid\");\n        }\n        str += \"; Domain=\".concat(opt.domain);\n    }\n    if (opt.path) {\n        if (!fieldContentRegExp.test(opt.path)) {\n            throw new TypeError(\"option path is invalid\");\n        }\n        str += \"; Path=\".concat(opt.path);\n    }\n    if (opt.expires) {\n        if (typeof opt.expires.toUTCString !== \"function\") {\n            throw new TypeError(\"option expires is invalid\");\n        }\n        str += \"; Expires=\".concat(opt.expires.toUTCString());\n    }\n    if (opt.httpOnly) str += \"; HttpOnly\";\n    if (opt.secure) str += \"; Secure\";\n    if (opt.sameSite) {\n        var sameSite = typeof opt.sameSite === \"string\" ? opt.sameSite.toLowerCase() : opt.sameSite;\n        switch(sameSite){\n            case true:\n                str += \"; SameSite=Strict\";\n                break;\n            case \"lax\":\n                str += \"; SameSite=Lax\";\n                break;\n            case \"strict\":\n                str += \"; SameSite=Strict\";\n                break;\n            case \"none\":\n                str += \"; SameSite=None\";\n                break;\n            default:\n                throw new TypeError(\"option sameSite is invalid\");\n        }\n    }\n    return str;\n};\nvar cookie = {\n    create: function create(name, value, minutes, domain) {\n        var cookieOptions = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n            path: \"/\",\n            sameSite: \"strict\"\n        };\n        if (minutes) {\n            cookieOptions.expires = new Date();\n            cookieOptions.expires.setTime(cookieOptions.expires.getTime() + minutes * 60 * 1000);\n        }\n        if (domain) cookieOptions.domain = domain;\n        document.cookie = serializeCookie(name, encodeURIComponent(value), cookieOptions);\n    },\n    read: function read(name) {\n        var nameEQ = \"\".concat(name, \"=\");\n        var ca = document.cookie.split(\";\");\n        for(var i = 0; i < ca.length; i++){\n            var c = ca[i];\n            while(c.charAt(0) === \" \")c = c.substring(1, c.length);\n            if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\n        }\n        return null;\n    },\n    remove: function remove(name) {\n        this.create(name, \"\", -1);\n    }\n};\nvar cookie$1 = {\n    name: \"cookie\",\n    lookup: function lookup(options) {\n        var found;\n        if (options.lookupCookie && typeof document !== \"undefined\") {\n            var c = cookie.read(options.lookupCookie);\n            if (c) found = c;\n        }\n        return found;\n    },\n    cacheUserLanguage: function cacheUserLanguage(lng, options) {\n        if (options.lookupCookie && typeof document !== \"undefined\") {\n            cookie.create(options.lookupCookie, lng, options.cookieMinutes, options.cookieDomain, options.cookieOptions);\n        }\n    }\n};\nvar querystring = {\n    name: \"querystring\",\n    lookup: function lookup(options) {\n        var found;\n        if (false) { var key, pos, i, params, query, search; }\n        return found;\n    }\n};\nvar hasLocalStorageSupport = null;\nvar localStorageAvailable = function localStorageAvailable() {\n    if (hasLocalStorageSupport !== null) return hasLocalStorageSupport;\n    try {\n        hasLocalStorageSupport = window !== \"undefined\" && window.localStorage !== null;\n        var testKey = \"i18next.translate.boo\";\n        window.localStorage.setItem(testKey, \"foo\");\n        window.localStorage.removeItem(testKey);\n    } catch (e) {\n        hasLocalStorageSupport = false;\n    }\n    return hasLocalStorageSupport;\n};\nvar localStorage = {\n    name: \"localStorage\",\n    lookup: function lookup(options) {\n        var found;\n        if (options.lookupLocalStorage && localStorageAvailable()) {\n            var lng = window.localStorage.getItem(options.lookupLocalStorage);\n            if (lng) found = lng;\n        }\n        return found;\n    },\n    cacheUserLanguage: function cacheUserLanguage(lng, options) {\n        if (options.lookupLocalStorage && localStorageAvailable()) {\n            window.localStorage.setItem(options.lookupLocalStorage, lng);\n        }\n    }\n};\nvar hasSessionStorageSupport = null;\nvar sessionStorageAvailable = function sessionStorageAvailable() {\n    if (hasSessionStorageSupport !== null) return hasSessionStorageSupport;\n    try {\n        hasSessionStorageSupport = window !== \"undefined\" && window.sessionStorage !== null;\n        var testKey = \"i18next.translate.boo\";\n        window.sessionStorage.setItem(testKey, \"foo\");\n        window.sessionStorage.removeItem(testKey);\n    } catch (e) {\n        hasSessionStorageSupport = false;\n    }\n    return hasSessionStorageSupport;\n};\nvar sessionStorage = {\n    name: \"sessionStorage\",\n    lookup: function lookup(options) {\n        var found;\n        if (options.lookupSessionStorage && sessionStorageAvailable()) {\n            var lng = window.sessionStorage.getItem(options.lookupSessionStorage);\n            if (lng) found = lng;\n        }\n        return found;\n    },\n    cacheUserLanguage: function cacheUserLanguage(lng, options) {\n        if (options.lookupSessionStorage && sessionStorageAvailable()) {\n            window.sessionStorage.setItem(options.lookupSessionStorage, lng);\n        }\n    }\n};\nvar navigator$1 = {\n    name: \"navigator\",\n    lookup: function lookup(options) {\n        var found = [];\n        if (typeof navigator !== \"undefined\") {\n            if (navigator.languages) {\n                // chrome only; not an array, so can't use .push.apply instead of iterating\n                for(var i = 0; i < navigator.languages.length; i++){\n                    found.push(navigator.languages[i]);\n                }\n            }\n            if (navigator.userLanguage) {\n                found.push(navigator.userLanguage);\n            }\n            if (navigator.language) {\n                found.push(navigator.language);\n            }\n        }\n        return found.length > 0 ? found : undefined;\n    }\n};\nvar htmlTag = {\n    name: \"htmlTag\",\n    lookup: function lookup(options) {\n        var found;\n        var htmlTag = options.htmlTag || (typeof document !== \"undefined\" ? document.documentElement : null);\n        if (htmlTag && typeof htmlTag.getAttribute === \"function\") {\n            found = htmlTag.getAttribute(\"lang\");\n        }\n        return found;\n    }\n};\nvar path = {\n    name: \"path\",\n    lookup: function lookup(options) {\n        var found;\n        if (false) { var language; }\n        return found;\n    }\n};\nvar subdomain = {\n    name: \"subdomain\",\n    lookup: function lookup(options) {\n        // If given get the subdomain index else 1\n        var lookupFromSubdomainIndex = typeof options.lookupFromSubdomainIndex === \"number\" ? options.lookupFromSubdomainIndex + 1 : 1;\n        // get all matches if window.location. is existing\n        // first item of match is the match itself and the second is the first group macht which sould be the first subdomain match\n        // is the hostname no public domain get the or option of localhost\n        var language =  false && 0;\n        // if there is no match (null) return undefined\n        if (!language) return undefined;\n        // return the given group match\n        return language[lookupFromSubdomainIndex];\n    }\n};\nfunction getDefaults() {\n    return {\n        order: [\n            \"querystring\",\n            \"cookie\",\n            \"localStorage\",\n            \"sessionStorage\",\n            \"navigator\",\n            \"htmlTag\"\n        ],\n        lookupQuerystring: \"lng\",\n        lookupCookie: \"i18next\",\n        lookupLocalStorage: \"i18nextLng\",\n        lookupSessionStorage: \"i18nextLng\",\n        // cache user language\n        caches: [\n            \"localStorage\"\n        ],\n        excludeCacheFor: [\n            \"cimode\"\n        ],\n        // cookieMinutes: 10,\n        // cookieDomain: 'myDomain'\n        convertDetectedLanguage: function convertDetectedLanguage(l) {\n            return l;\n        }\n    };\n}\nvar Browser = /*#__PURE__*/ function() {\n    function Browser(services) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, Browser);\n        this.type = \"languageDetector\";\n        this.detectors = {};\n        this.init(services, options);\n    }\n    (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(Browser, [\n        {\n            key: \"init\",\n            value: function init(services) {\n                var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n                var i18nOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n                this.services = services || {\n                    languageUtils: {}\n                }; // this way the language detector can be used without i18next\n                this.options = defaults(options, this.options || {}, getDefaults());\n                if (typeof this.options.convertDetectedLanguage === \"string\" && this.options.convertDetectedLanguage.indexOf(\"15897\") > -1) {\n                    this.options.convertDetectedLanguage = function(l) {\n                        return l.replace(\"-\", \"_\");\n                    };\n                }\n                // backwards compatibility\n                if (this.options.lookupFromUrlIndex) this.options.lookupFromPathIndex = this.options.lookupFromUrlIndex;\n                this.i18nOptions = i18nOptions;\n                this.addDetector(cookie$1);\n                this.addDetector(querystring);\n                this.addDetector(localStorage);\n                this.addDetector(sessionStorage);\n                this.addDetector(navigator$1);\n                this.addDetector(htmlTag);\n                this.addDetector(path);\n                this.addDetector(subdomain);\n            }\n        },\n        {\n            key: \"addDetector\",\n            value: function addDetector(detector) {\n                this.detectors[detector.name] = detector;\n            }\n        },\n        {\n            key: \"detect\",\n            value: function detect(detectionOrder) {\n                var _this = this;\n                if (!detectionOrder) detectionOrder = this.options.order;\n                var detected = [];\n                detectionOrder.forEach(function(detectorName) {\n                    if (_this.detectors[detectorName]) {\n                        var lookup = _this.detectors[detectorName].lookup(_this.options);\n                        if (lookup && typeof lookup === \"string\") lookup = [\n                            lookup\n                        ];\n                        if (lookup) detected = detected.concat(lookup);\n                    }\n                });\n                detected = detected.map(function(d) {\n                    return _this.options.convertDetectedLanguage(d);\n                });\n                if (this.services.languageUtils.getBestMatchFromCodes) return detected; // new i18next v19.5.0\n                return detected.length > 0 ? detected[0] : null; // a little backward compatibility\n            }\n        },\n        {\n            key: \"cacheUserLanguage\",\n            value: function cacheUserLanguage(lng, caches) {\n                var _this2 = this;\n                if (!caches) caches = this.options.caches;\n                if (!caches) return;\n                if (this.options.excludeCacheFor && this.options.excludeCacheFor.indexOf(lng) > -1) return;\n                caches.forEach(function(cacheName) {\n                    if (_this2.detectors[cacheName]) _this2.detectors[cacheName].cacheUserLanguage(lng, _this2.options);\n                });\n            }\n        }\n    ]);\n    return Browser;\n}();\nBrowser.type = \"languageDetector\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vaTE4bmV4dC1icm93c2VyLWxhbmd1YWdlZGV0ZWN0b3JANy4yLjAvbm9kZV9tb2R1bGVzL2kxOG5leHQtYnJvd3Nlci1sYW5ndWFnZWRldGVjdG9yL2Rpc3QvZXNtL2kxOG5leHRCcm93c2VyTGFuZ3VhZ2VEZXRlY3Rvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBd0U7QUFDTjtBQUVsRSxJQUFJRSxNQUFNLEVBQUU7QUFDWixJQUFJQyxPQUFPRCxJQUFJRSxPQUFPO0FBQ3RCLElBQUlDLFFBQVFILElBQUlHLEtBQUs7QUFDckIsU0FBU0MsU0FBU0MsR0FBRztJQUNuQkosS0FBS0ssSUFBSSxDQUFDSCxNQUFNRyxJQUFJLENBQUNDLFdBQVcsSUFBSSxTQUFVQyxNQUFNO1FBQ2xELElBQUlBLFFBQVE7WUFDVixJQUFLLElBQUlDLFFBQVFELE9BQVE7Z0JBQ3ZCLElBQUlILEdBQUcsQ0FBQ0ksS0FBSyxLQUFLQyxXQUFXTCxHQUFHLENBQUNJLEtBQUssR0FBR0QsTUFBTSxDQUFDQyxLQUFLO1lBQ3ZEO1FBQ0Y7SUFDRjtJQUNBLE9BQU9KO0FBQ1Q7QUFFQSw0Q0FBNEM7QUFDNUMsSUFBSU0scUJBQXFCO0FBQ3pCLElBQUlDLGtCQUFrQixTQUFTQSxnQkFBZ0JDLElBQUksRUFBRUMsR0FBRyxFQUFFQyxPQUFPO0lBQy9ELElBQUlDLE1BQU1ELFdBQVcsQ0FBQztJQUN0QkMsSUFBSUMsSUFBSSxHQUFHRCxJQUFJQyxJQUFJLElBQUk7SUFDdkIsSUFBSUMsUUFBUUMsbUJBQW1CTDtJQUMvQixJQUFJTSxNQUFNLEdBQUdDLE1BQU0sQ0FBQ1IsTUFBTSxLQUFLUSxNQUFNLENBQUNIO0lBQ3RDLElBQUlGLElBQUlNLE1BQU0sR0FBRyxHQUFHO1FBQ2xCLElBQUlBLFNBQVNOLElBQUlNLE1BQU0sR0FBRztRQUMxQixJQUFJQyxPQUFPQyxLQUFLLENBQUNGLFNBQVMsTUFBTSxJQUFJRyxNQUFNO1FBQzFDTCxPQUFPLGFBQWFD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QUFrQkMsR0FBRyxFQUFFNkMsTUFBTTtnQkFDM0MsSUFBSXNCLFNBQVMsSUFBSTtnQkFDakIsSUFBSSxDQUFDdEIsUUFBUUEsU0FBUyxJQUFJLENBQUMzRixPQUFPLENBQUMyRixNQUFNO2dCQUN6QyxJQUFJLENBQUNBLFFBQVE7Z0JBQ2IsSUFBSSxJQUFJLENBQUMzRixPQUFPLENBQUM0RixlQUFlLElBQUksSUFBSSxDQUFDNUYsT0FBTyxDQUFDNEYsZUFBZSxDQUFDckQsT0FBTyxDQUFDTyxPQUFPLENBQUMsR0FBRztnQkFDcEY2QyxPQUFPeEcsT0FBTyxDQUFDLFNBQVUrSCxTQUFTO29CQUNoQyxJQUFJRCxPQUFPZixTQUFTLENBQUNnQixVQUFVLEVBQUVELE9BQU9mLFNBQVMsQ0FBQ2dCLFVBQVUsQ0FBQ3JFLGlCQUFpQixDQUFDQyxLQUFLbUUsT0FBT2pILE9BQU87Z0JBQ3BHO1lBQ0Y7UUFDRjtLQUFFO0lBQ0YsT0FBTytGO0FBQ1Q7QUFDQUEsUUFBUUUsSUFBSSxHQUFHO0FBRWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb29sLmd1cnUvLi9ub2RlX21vZHVsZXMvLnBucG0vaTE4bmV4dC1icm93c2VyLWxhbmd1YWdlZGV0ZWN0b3JANy4yLjAvbm9kZV9tb2R1bGVzL2kxOG5leHQtYnJvd3Nlci1sYW5ndWFnZWRldGVjdG9yL2Rpc3QvZXNtL2kxOG5leHRCcm93c2VyTGFuZ3VhZ2VEZXRlY3Rvci5qcz9hZTBjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyc7XG5cbnZhciBhcnIgPSBbXTtcbnZhciBlYWNoID0gYXJyLmZvckVhY2g7XG52YXIgc2xpY2UgPSBhcnIuc2xpY2U7XG5mdW5jdGlvbiBkZWZhdWx0cyhvYmopIHtcbiAgZWFjaC5jYWxsKHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSwgZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgIGlmIChzb3VyY2UpIHtcbiAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChvYmpbcHJvcF0gPT09IHVuZGVmaW5lZCkgb2JqW3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBvYmo7XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250cm9sLXJlZ2V4XG52YXIgZmllbGRDb250ZW50UmVnRXhwID0gL15bXFx1MDAwOVxcdTAwMjAtXFx1MDA3ZVxcdTAwODAtXFx1MDBmZl0rJC87XG52YXIgc2VyaWFsaXplQ29va2llID0gZnVuY3Rpb24gc2VyaWFsaXplQ29va2llKG5hbWUsIHZhbCwgb3B0aW9ucykge1xuICB2YXIgb3B0ID0gb3B0aW9ucyB8fCB7fTtcbiAgb3B0LnBhdGggPSBvcHQucGF0aCB8fCAnLyc7XG4gIHZhciB2YWx1ZSA9IGVuY29kZVVSSUNvbXBvbmVudCh2YWwpO1xuICB2YXIgc3RyID0gXCJcIi5jb25jYXQobmFtZSwgXCI9XCIpLmNvbmNhdCh2YWx1ZSk7XG4gIGlmIChvcHQubWF4QWdlID4gMCkge1xuICAgIHZhciBtYXhBZ2UgPSBvcHQubWF4QWdlIC0gMDtcbiAgICBpZiAoTnVtYmVyLmlzTmFOKG1heEFnZSkpIHRocm93IG5ldyBFcnJvcignbWF4QWdlIHNob3VsZCBiZSBhIE51bWJlcicpO1xuICAgIHN0ciArPSBcIjsgTWF4LUFnZT1cIi5jb25jYXQoTWF0aC5mbG9vcihtYXhBZ2UpKTtcbiAgfVxuICBpZiAob3B0LmRvbWFpbikge1xuICAgIGlmICghZmllbGRDb250ZW50UmVnRXhwLnRlc3Qob3B0LmRvbWFpbikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbiBkb21haW4gaXMgaW52YWxpZCcpO1xuICAgIH1cbiAgICBzdHIgKz0gXCI7IERvbWFpbj1cIi5jb25jYXQob3B0LmRvbWFpbik7XG4gIH1cbiAgaWYgKG9wdC5wYXRoKSB7XG4gICAgaWYgKCFmaWVsZENvbnRlbnRSZWdFeHAudGVzdChvcHQucGF0aCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbiBwYXRoIGlzIGludmFsaWQnKTtcbiAgICB9XG4gICAgc3RyICs9IFwiOyBQYXRoPVwiLmNvbmNhdChvcHQucGF0aCk7XG4gIH1cbiAgaWYgKG9wdC5leHBpcmVzKSB7XG4gICAgaWYgKHR5cGVvZiBvcHQuZXhwaXJlcy50b1VUQ1N0cmluZyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uIGV4cGlyZXMgaXMgaW52YWxpZCcpO1xuICAgIH1cbiAgICBzdHIgKz0gXCI7IEV4cGlyZXM9XCIuY29uY2F0KG9wdC5leHBpcmVzLnRvVVRDU3RyaW5nKCkpO1xuICB9XG4gIGlmIChvcHQuaHR0cE9ubHkpIHN0ciArPSAnOyBIdHRwT25seSc7XG4gIGlmIChvcHQuc2VjdXJlKSBzdHIgKz0gJzsgU2VjdXJlJztcbiAgaWYgKG9wdC5zYW1lU2l0ZSkge1xuICAgIHZhciBzYW1lU2l0ZSA9IHR5cGVvZiBvcHQuc2FtZVNpdGUgPT09ICdzdHJpbmcnID8gb3B0LnNhbWVTaXRlLnRvTG93ZXJDYXNlKCkgOiBvcHQuc2FtZVNpdGU7XG4gICAgc3dpdGNoIChzYW1lU2l0ZSkge1xuICAgICAgY2FzZSB0cnVlOlxuICAgICAgICBzdHIgKz0gJzsgU2FtZVNpdGU9U3RyaWN0JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdsYXgnOlxuICAgICAgICBzdHIgKz0gJzsgU2FtZVNpdGU9TGF4JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzdHJpY3QnOlxuICAgICAgICBzdHIgKz0gJzsgU2FtZVNpdGU9U3RyaWN0JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdub25lJzpcbiAgICAgICAgc3RyICs9ICc7IFNhbWVTaXRlPU5vbmUnO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbiBzYW1lU2l0ZSBpcyBpbnZhbGlkJyk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHI7XG59O1xudmFyIGNvb2tpZSA9IHtcbiAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUobmFtZSwgdmFsdWUsIG1pbnV0ZXMsIGRvbWFpbikge1xuICAgIHZhciBjb29raWVPcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiB7XG4gICAgICBwYXRoOiAnLycsXG4gICAgICBzYW1lU2l0ZTogJ3N0cmljdCdcbiAgICB9O1xuICAgIGlmIChtaW51dGVzKSB7XG4gICAgICBjb29raWVPcHRpb25zLmV4cGlyZXMgPSBuZXcgRGF0ZSgpO1xuICAgICAgY29va2llT3B0aW9ucy5leHBpcmVzLnNldFRpbWUoY29va2llT3B0aW9ucy5leHBpcmVzLmdldFRpbWUoKSArIG1pbnV0ZXMgKiA2MCAqIDEwMDApO1xuICAgIH1cbiAgICBpZiAoZG9tYWluKSBjb29raWVPcHRpb25zLmRvbWFpbiA9IGRvbWFpbjtcbiAgICBkb2N1bWVudC5jb29raWUgPSBzZXJpYWxpemVDb29raWUobmFtZSwgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSwgY29va2llT3B0aW9ucyk7XG4gIH0sXG4gIHJlYWQ6IGZ1bmN0aW9uIHJlYWQobmFtZSkge1xuICAgIHZhciBuYW1lRVEgPSBcIlwiLmNvbmNhdChuYW1lLCBcIj1cIik7XG4gICAgdmFyIGNhID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7Jyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGMgPSBjYVtpXTtcbiAgICAgIHdoaWxlIChjLmNoYXJBdCgwKSA9PT0gJyAnKSBjID0gYy5zdWJzdHJpbmcoMSwgYy5sZW5ndGgpO1xuICAgICAgaWYgKGMuaW5kZXhPZihuYW1lRVEpID09PSAwKSByZXR1cm4gYy5zdWJzdHJpbmcobmFtZUVRLmxlbmd0aCwgYy5sZW5ndGgpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUobmFtZSkge1xuICAgIHRoaXMuY3JlYXRlKG5hbWUsICcnLCAtMSk7XG4gIH1cbn07XG52YXIgY29va2llJDEgPSB7XG4gIG5hbWU6ICdjb29raWUnLFxuICBsb29rdXA6IGZ1bmN0aW9uIGxvb2t1cChvcHRpb25zKSB7XG4gICAgdmFyIGZvdW5kO1xuICAgIGlmIChvcHRpb25zLmxvb2t1cENvb2tpZSAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgYyA9IGNvb2tpZS5yZWFkKG9wdGlvbnMubG9va3VwQ29va2llKTtcbiAgICAgIGlmIChjKSBmb3VuZCA9IGM7XG4gICAgfVxuICAgIHJldHVybiBmb3VuZDtcbiAgfSxcbiAgY2FjaGVVc2VyTGFuZ3VhZ2U6IGZ1bmN0aW9uIGNhY2hlVXNlckxhbmd1YWdlKGxuZywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLmxvb2t1cENvb2tpZSAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb29raWUuY3JlYXRlKG9wdGlvbnMubG9va3VwQ29va2llLCBsbmcsIG9wdGlvbnMuY29va2llTWludXRlcywgb3B0aW9ucy5jb29raWVEb21haW4sIG9wdGlvbnMuY29va2llT3B0aW9ucyk7XG4gICAgfVxuICB9XG59O1xuXG52YXIgcXVlcnlzdHJpbmcgPSB7XG4gIG5hbWU6ICdxdWVyeXN0cmluZycsXG4gIGxvb2t1cDogZnVuY3Rpb24gbG9va3VwKG9wdGlvbnMpIHtcbiAgICB2YXIgZm91bmQ7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc2VhcmNoID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcbiAgICAgIGlmICghd2luZG93LmxvY2F0aW9uLnNlYXJjaCAmJiB3aW5kb3cubG9jYXRpb24uaGFzaCAmJiB3aW5kb3cubG9jYXRpb24uaGFzaC5pbmRleE9mKCc/JykgPiAtMSkge1xuICAgICAgICBzZWFyY2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHJpbmcod2luZG93LmxvY2F0aW9uLmhhc2guaW5kZXhPZignPycpKTtcbiAgICAgIH1cbiAgICAgIHZhciBxdWVyeSA9IHNlYXJjaC5zdWJzdHJpbmcoMSk7XG4gICAgICB2YXIgcGFyYW1zID0gcXVlcnkuc3BsaXQoJyYnKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyYW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwb3MgPSBwYXJhbXNbaV0uaW5kZXhPZignPScpO1xuICAgICAgICBpZiAocG9zID4gMCkge1xuICAgICAgICAgIHZhciBrZXkgPSBwYXJhbXNbaV0uc3Vic3RyaW5nKDAsIHBvcyk7XG4gICAgICAgICAgaWYgKGtleSA9PT0gb3B0aW9ucy5sb29rdXBRdWVyeXN0cmluZykge1xuICAgICAgICAgICAgZm91bmQgPSBwYXJhbXNbaV0uc3Vic3RyaW5nKHBvcyArIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZm91bmQ7XG4gIH1cbn07XG5cbnZhciBoYXNMb2NhbFN0b3JhZ2VTdXBwb3J0ID0gbnVsbDtcbnZhciBsb2NhbFN0b3JhZ2VBdmFpbGFibGUgPSBmdW5jdGlvbiBsb2NhbFN0b3JhZ2VBdmFpbGFibGUoKSB7XG4gIGlmIChoYXNMb2NhbFN0b3JhZ2VTdXBwb3J0ICE9PSBudWxsKSByZXR1cm4gaGFzTG9jYWxTdG9yYWdlU3VwcG9ydDtcbiAgdHJ5IHtcbiAgICBoYXNMb2NhbFN0b3JhZ2VTdXBwb3J0ID0gd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubG9jYWxTdG9yYWdlICE9PSBudWxsO1xuICAgIHZhciB0ZXN0S2V5ID0gJ2kxOG5leHQudHJhbnNsYXRlLmJvbyc7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHRlc3RLZXksICdmb28nKTtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGVzdEtleSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBoYXNMb2NhbFN0b3JhZ2VTdXBwb3J0ID0gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGhhc0xvY2FsU3RvcmFnZVN1cHBvcnQ7XG59O1xudmFyIGxvY2FsU3RvcmFnZSA9IHtcbiAgbmFtZTogJ2xvY2FsU3RvcmFnZScsXG4gIGxvb2t1cDogZnVuY3Rpb24gbG9va3VwKG9wdGlvbnMpIHtcbiAgICB2YXIgZm91bmQ7XG4gICAgaWYgKG9wdGlvbnMubG9va3VwTG9jYWxTdG9yYWdlICYmIGxvY2FsU3RvcmFnZUF2YWlsYWJsZSgpKSB7XG4gICAgICB2YXIgbG5nID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKG9wdGlvbnMubG9va3VwTG9jYWxTdG9yYWdlKTtcbiAgICAgIGlmIChsbmcpIGZvdW5kID0gbG5nO1xuICAgIH1cbiAgICByZXR1cm4gZm91bmQ7XG4gIH0sXG4gIGNhY2hlVXNlckxhbmd1YWdlOiBmdW5jdGlvbiBjYWNoZVVzZXJMYW5ndWFnZShsbmcsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5sb29rdXBMb2NhbFN0b3JhZ2UgJiYgbG9jYWxTdG9yYWdlQXZhaWxhYmxlKCkpIHtcbiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShvcHRpb25zLmxvb2t1cExvY2FsU3RvcmFnZSwgbG5nKTtcbiAgICB9XG4gIH1cbn07XG5cbnZhciBoYXNTZXNzaW9uU3RvcmFnZVN1cHBvcnQgPSBudWxsO1xudmFyIHNlc3Npb25TdG9yYWdlQXZhaWxhYmxlID0gZnVuY3Rpb24gc2Vzc2lvblN0b3JhZ2VBdmFpbGFibGUoKSB7XG4gIGlmIChoYXNTZXNzaW9uU3RvcmFnZVN1cHBvcnQgIT09IG51bGwpIHJldHVybiBoYXNTZXNzaW9uU3RvcmFnZVN1cHBvcnQ7XG4gIHRyeSB7XG4gICAgaGFzU2Vzc2lvblN0b3JhZ2VTdXBwb3J0ID0gd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UgIT09IG51bGw7XG4gICAgdmFyIHRlc3RLZXkgPSAnaTE4bmV4dC50cmFuc2xhdGUuYm9vJztcbiAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSh0ZXN0S2V5LCAnZm9vJyk7XG4gICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0odGVzdEtleSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBoYXNTZXNzaW9uU3RvcmFnZVN1cHBvcnQgPSBmYWxzZTtcbiAgfVxuICByZXR1cm4gaGFzU2Vzc2lvblN0b3JhZ2VTdXBwb3J0O1xufTtcbnZhciBzZXNzaW9uU3RvcmFnZSA9IHtcbiAgbmFtZTogJ3Nlc3Npb25TdG9yYWdlJyxcbiAgbG9va3VwOiBmdW5jdGlvbiBsb29rdXAob3B0aW9ucykge1xuICAgIHZhciBmb3VuZDtcbiAgICBpZiAob3B0aW9ucy5sb29rdXBTZXNzaW9uU3RvcmFnZSAmJiBzZXNzaW9uU3RvcmFnZUF2YWlsYWJsZSgpKSB7XG4gICAgICB2YXIgbG5nID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0ob3B0aW9ucy5sb29rdXBTZXNzaW9uU3RvcmFnZSk7XG4gICAgICBpZiAobG5nKSBmb3VuZCA9IGxuZztcbiAgICB9XG4gICAgcmV0dXJuIGZvdW5kO1xuICB9LFxuICBjYWNoZVVzZXJMYW5ndWFnZTogZnVuY3Rpb24gY2FjaGVVc2VyTGFuZ3VhZ2UobG5nLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMubG9va3VwU2Vzc2lvblN0b3JhZ2UgJiYgc2Vzc2lvblN0b3JhZ2VBdmFpbGFibGUoKSkge1xuICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0ob3B0aW9ucy5sb29rdXBTZXNzaW9uU3RvcmFnZSwgbG5nKTtcbiAgICB9XG4gIH1cbn07XG5cbnZhciBuYXZpZ2F0b3IkMSA9IHtcbiAgbmFtZTogJ25hdmlnYXRvcicsXG4gIGxvb2t1cDogZnVuY3Rpb24gbG9va3VwKG9wdGlvbnMpIHtcbiAgICB2YXIgZm91bmQgPSBbXTtcbiAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChuYXZpZ2F0b3IubGFuZ3VhZ2VzKSB7XG4gICAgICAgIC8vIGNocm9tZSBvbmx5OyBub3QgYW4gYXJyYXksIHNvIGNhbid0IHVzZSAucHVzaC5hcHBseSBpbnN0ZWFkIG9mIGl0ZXJhdGluZ1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hdmlnYXRvci5sYW5ndWFnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBmb3VuZC5wdXNoKG5hdmlnYXRvci5sYW5ndWFnZXNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobmF2aWdhdG9yLnVzZXJMYW5ndWFnZSkge1xuICAgICAgICBmb3VuZC5wdXNoKG5hdmlnYXRvci51c2VyTGFuZ3VhZ2UpO1xuICAgICAgfVxuICAgICAgaWYgKG5hdmlnYXRvci5sYW5ndWFnZSkge1xuICAgICAgICBmb3VuZC5wdXNoKG5hdmlnYXRvci5sYW5ndWFnZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmb3VuZC5sZW5ndGggPiAwID8gZm91bmQgOiB1bmRlZmluZWQ7XG4gIH1cbn07XG5cbnZhciBodG1sVGFnID0ge1xuICBuYW1lOiAnaHRtbFRhZycsXG4gIGxvb2t1cDogZnVuY3Rpb24gbG9va3VwKG9wdGlvbnMpIHtcbiAgICB2YXIgZm91bmQ7XG4gICAgdmFyIGh0bWxUYWcgPSBvcHRpb25zLmh0bWxUYWcgfHwgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgOiBudWxsKTtcbiAgICBpZiAoaHRtbFRhZyAmJiB0eXBlb2YgaHRtbFRhZy5nZXRBdHRyaWJ1dGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGZvdW5kID0gaHRtbFRhZy5nZXRBdHRyaWJ1dGUoJ2xhbmcnKTtcbiAgICB9XG4gICAgcmV0dXJuIGZvdW5kO1xuICB9XG59O1xuXG52YXIgcGF0aCA9IHtcbiAgbmFtZTogJ3BhdGgnLFxuICBsb29rdXA6IGZ1bmN0aW9uIGxvb2t1cChvcHRpb25zKSB7XG4gICAgdmFyIGZvdW5kO1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIGxhbmd1YWdlID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLm1hdGNoKC9cXC8oW2EtekEtWi1dKikvZyk7XG4gICAgICBpZiAobGFuZ3VhZ2UgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMubG9va3VwRnJvbVBhdGhJbmRleCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGxhbmd1YWdlW29wdGlvbnMubG9va3VwRnJvbVBhdGhJbmRleF0gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3VuZCA9IGxhbmd1YWdlW29wdGlvbnMubG9va3VwRnJvbVBhdGhJbmRleF0ucmVwbGFjZSgnLycsICcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3VuZCA9IGxhbmd1YWdlWzBdLnJlcGxhY2UoJy8nLCAnJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZvdW5kO1xuICB9XG59O1xuXG52YXIgc3ViZG9tYWluID0ge1xuICBuYW1lOiAnc3ViZG9tYWluJyxcbiAgbG9va3VwOiBmdW5jdGlvbiBsb29rdXAob3B0aW9ucykge1xuICAgIC8vIElmIGdpdmVuIGdldCB0aGUgc3ViZG9tYWluIGluZGV4IGVsc2UgMVxuICAgIHZhciBsb29rdXBGcm9tU3ViZG9tYWluSW5kZXggPSB0eXBlb2Ygb3B0aW9ucy5sb29rdXBGcm9tU3ViZG9tYWluSW5kZXggPT09ICdudW1iZXInID8gb3B0aW9ucy5sb29rdXBGcm9tU3ViZG9tYWluSW5kZXggKyAxIDogMTtcbiAgICAvLyBnZXQgYWxsIG1hdGNoZXMgaWYgd2luZG93LmxvY2F0aW9uLiBpcyBleGlzdGluZ1xuICAgIC8vIGZpcnN0IGl0ZW0gb2YgbWF0Y2ggaXMgdGhlIG1hdGNoIGl0c2VsZiBhbmQgdGhlIHNlY29uZCBpcyB0aGUgZmlyc3QgZ3JvdXAgbWFjaHQgd2hpY2ggc291bGQgYmUgdGhlIGZpcnN0IHN1YmRvbWFpbiBtYXRjaFxuICAgIC8vIGlzIHRoZSBob3N0bmFtZSBubyBwdWJsaWMgZG9tYWluIGdldCB0aGUgb3Igb3B0aW9uIG9mIGxvY2FsaG9zdFxuICAgIHZhciBsYW5ndWFnZSA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5sb2NhdGlvbiAmJiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgJiYgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLm1hdGNoKC9eKFxcd3syLDV9KVxcLigoW2EtejAtOS1dezEsNjN9XFwuW2Etel17Miw2fSl8bG9jYWxob3N0KS9pKTtcblxuICAgIC8vIGlmIHRoZXJlIGlzIG5vIG1hdGNoIChudWxsKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgaWYgKCFsYW5ndWFnZSkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAvLyByZXR1cm4gdGhlIGdpdmVuIGdyb3VwIG1hdGNoXG4gICAgcmV0dXJuIGxhbmd1YWdlW2xvb2t1cEZyb21TdWJkb21haW5JbmRleF07XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRzKCkge1xuICByZXR1cm4ge1xuICAgIG9yZGVyOiBbJ3F1ZXJ5c3RyaW5nJywgJ2Nvb2tpZScsICdsb2NhbFN0b3JhZ2UnLCAnc2Vzc2lvblN0b3JhZ2UnLCAnbmF2aWdhdG9yJywgJ2h0bWxUYWcnXSxcbiAgICBsb29rdXBRdWVyeXN0cmluZzogJ2xuZycsXG4gICAgbG9va3VwQ29va2llOiAnaTE4bmV4dCcsXG4gICAgbG9va3VwTG9jYWxTdG9yYWdlOiAnaTE4bmV4dExuZycsXG4gICAgbG9va3VwU2Vzc2lvblN0b3JhZ2U6ICdpMThuZXh0TG5nJyxcbiAgICAvLyBjYWNoZSB1c2VyIGxhbmd1YWdlXG4gICAgY2FjaGVzOiBbJ2xvY2FsU3RvcmFnZSddLFxuICAgIGV4Y2x1ZGVDYWNoZUZvcjogWydjaW1vZGUnXSxcbiAgICAvLyBjb29raWVNaW51dGVzOiAxMCxcbiAgICAvLyBjb29raWVEb21haW46ICdteURvbWFpbidcblxuICAgIGNvbnZlcnREZXRlY3RlZExhbmd1YWdlOiBmdW5jdGlvbiBjb252ZXJ0RGV0ZWN0ZWRMYW5ndWFnZShsKSB7XG4gICAgICByZXR1cm4gbDtcbiAgICB9XG4gIH07XG59XG52YXIgQnJvd3NlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEJyb3dzZXIoc2VydmljZXMpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJyb3dzZXIpO1xuICAgIHRoaXMudHlwZSA9ICdsYW5ndWFnZURldGVjdG9yJztcbiAgICB0aGlzLmRldGVjdG9ycyA9IHt9O1xuICAgIHRoaXMuaW5pdChzZXJ2aWNlcywgb3B0aW9ucyk7XG4gIH1cbiAgX2NyZWF0ZUNsYXNzKEJyb3dzZXIsIFt7XG4gICAga2V5OiBcImluaXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChzZXJ2aWNlcykge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgdmFyIGkxOG5PcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICAgIHRoaXMuc2VydmljZXMgPSBzZXJ2aWNlcyB8fCB7XG4gICAgICAgIGxhbmd1YWdlVXRpbHM6IHt9XG4gICAgICB9OyAvLyB0aGlzIHdheSB0aGUgbGFuZ3VhZ2UgZGV0ZWN0b3IgY2FuIGJlIHVzZWQgd2l0aG91dCBpMThuZXh0XG4gICAgICB0aGlzLm9wdGlvbnMgPSBkZWZhdWx0cyhvcHRpb25zLCB0aGlzLm9wdGlvbnMgfHwge30sIGdldERlZmF1bHRzKCkpO1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuY29udmVydERldGVjdGVkTGFuZ3VhZ2UgPT09ICdzdHJpbmcnICYmIHRoaXMub3B0aW9ucy5jb252ZXJ0RGV0ZWN0ZWRMYW5ndWFnZS5pbmRleE9mKCcxNTg5NycpID4gLTEpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLmNvbnZlcnREZXRlY3RlZExhbmd1YWdlID0gZnVuY3Rpb24gKGwpIHtcbiAgICAgICAgICByZXR1cm4gbC5yZXBsYWNlKCctJywgJ18nKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgLy8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubG9va3VwRnJvbVVybEluZGV4KSB0aGlzLm9wdGlvbnMubG9va3VwRnJvbVBhdGhJbmRleCA9IHRoaXMub3B0aW9ucy5sb29rdXBGcm9tVXJsSW5kZXg7XG4gICAgICB0aGlzLmkxOG5PcHRpb25zID0gaTE4bk9wdGlvbnM7XG4gICAgICB0aGlzLmFkZERldGVjdG9yKGNvb2tpZSQxKTtcbiAgICAgIHRoaXMuYWRkRGV0ZWN0b3IocXVlcnlzdHJpbmcpO1xuICAgICAgdGhpcy5hZGREZXRlY3Rvcihsb2NhbFN0b3JhZ2UpO1xuICAgICAgdGhpcy5hZGREZXRlY3RvcihzZXNzaW9uU3RvcmFnZSk7XG4gICAgICB0aGlzLmFkZERldGVjdG9yKG5hdmlnYXRvciQxKTtcbiAgICAgIHRoaXMuYWRkRGV0ZWN0b3IoaHRtbFRhZyk7XG4gICAgICB0aGlzLmFkZERldGVjdG9yKHBhdGgpO1xuICAgICAgdGhpcy5hZGREZXRlY3RvcihzdWJkb21haW4pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhZGREZXRlY3RvclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGREZXRlY3RvcihkZXRlY3Rvcikge1xuICAgICAgdGhpcy5kZXRlY3RvcnNbZGV0ZWN0b3IubmFtZV0gPSBkZXRlY3RvcjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGV0ZWN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGVjdChkZXRlY3Rpb25PcmRlcikge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIGlmICghZGV0ZWN0aW9uT3JkZXIpIGRldGVjdGlvbk9yZGVyID0gdGhpcy5vcHRpb25zLm9yZGVyO1xuICAgICAgdmFyIGRldGVjdGVkID0gW107XG4gICAgICBkZXRlY3Rpb25PcmRlci5mb3JFYWNoKGZ1bmN0aW9uIChkZXRlY3Rvck5hbWUpIHtcbiAgICAgICAgaWYgKF90aGlzLmRldGVjdG9yc1tkZXRlY3Rvck5hbWVdKSB7XG4gICAgICAgICAgdmFyIGxvb2t1cCA9IF90aGlzLmRldGVjdG9yc1tkZXRlY3Rvck5hbWVdLmxvb2t1cChfdGhpcy5vcHRpb25zKTtcbiAgICAgICAgICBpZiAobG9va3VwICYmIHR5cGVvZiBsb29rdXAgPT09ICdzdHJpbmcnKSBsb29rdXAgPSBbbG9va3VwXTtcbiAgICAgICAgICBpZiAobG9va3VwKSBkZXRlY3RlZCA9IGRldGVjdGVkLmNvbmNhdChsb29rdXApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGRldGVjdGVkID0gZGV0ZWN0ZWQubWFwKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5vcHRpb25zLmNvbnZlcnREZXRlY3RlZExhbmd1YWdlKGQpO1xuICAgICAgfSk7XG4gICAgICBpZiAodGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLmdldEJlc3RNYXRjaEZyb21Db2RlcykgcmV0dXJuIGRldGVjdGVkOyAvLyBuZXcgaTE4bmV4dCB2MTkuNS4wXG4gICAgICByZXR1cm4gZGV0ZWN0ZWQubGVuZ3RoID4gMCA/IGRldGVjdGVkWzBdIDogbnVsbDsgLy8gYSBsaXR0bGUgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjYWNoZVVzZXJMYW5ndWFnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjYWNoZVVzZXJMYW5ndWFnZShsbmcsIGNhY2hlcykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG4gICAgICBpZiAoIWNhY2hlcykgY2FjaGVzID0gdGhpcy5vcHRpb25zLmNhY2hlcztcbiAgICAgIGlmICghY2FjaGVzKSByZXR1cm47XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmV4Y2x1ZGVDYWNoZUZvciAmJiB0aGlzLm9wdGlvbnMuZXhjbHVkZUNhY2hlRm9yLmluZGV4T2YobG5nKSA+IC0xKSByZXR1cm47XG4gICAgICBjYWNoZXMuZm9yRWFjaChmdW5jdGlvbiAoY2FjaGVOYW1lKSB7XG4gICAgICAgIGlmIChfdGhpczIuZGV0ZWN0b3JzW2NhY2hlTmFtZV0pIF90aGlzMi5kZXRlY3RvcnNbY2FjaGVOYW1lXS5jYWNoZVVzZXJMYW5ndWFnZShsbmcsIF90aGlzMi5vcHRpb25zKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQnJvd3Nlcjtcbn0oKTtcbkJyb3dzZXIudHlwZSA9ICdsYW5ndWFnZURldGVjdG9yJztcblxuZXhwb3J0IHsgQnJvd3NlciBhcyBkZWZhdWx0IH07XG4iXSwibmFtZXMiOlsiX2NsYXNzQ2FsbENoZWNrIiwiX2NyZWF0ZUNsYXNzIiwiYXJyIiwiZWFjaCIsImZvckVhY2giLCJzbGljZSIsImRlZmF1bHRzIiwib2JqIiwiY2FsbCIsImFyZ3VtZW50cyIsInNvdXJjZSIsInByb3AiLCJ1bmRlZmluZWQiLCJmaWVsZENvbnRlbnRSZWdFeHAiLCJzZXJpYWxpemVDb29raWUiLCJuYW1lIiwidmFsIiwib3B0aW9ucyIsIm9wdCIsInBhdGgiLCJ2YWx1ZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInN0ciIsImNvbmNhdCIsIm1heEFnZSIsIk51bWJlciIsImlzTmFOIiwiRXJyb3IiLCJNYXRoIiwiZmxvb3IiLCJkb21haW4iLCJ0ZXN0IiwiVHlwZUVycm9yIiwiZXhwaXJlcyIsInRvVVRDU3RyaW5nIiwiaHR0cE9ubHkiLCJzZWN1cmUiLCJzYW1lU2l0ZSIsInRvTG93ZXJDYXNlIiwiY29va2llIiwiY3JlYXRlIiwibWludXRlcyIsImNvb2tpZU9wdGlvbnMiLCJsZW5ndGgiLCJEYXRlIiwic2V0VGltZSIsImdldFRpbWUiLCJkb2N1bWVudCIsInJlYWQiLCJuYW1lRVEiLCJjYSIsInNwbGl0IiwiaSIsImMiLCJjaGFyQXQiLCJzdWJzdHJpbmciLCJpbmRleE9mIiwicmVtb3ZlIiwiY29va2llJDEiLCJsb29rdXAiLCJmb3VuZCIsImxvb2t1cENvb2tpZSIsImNhY2hlVXNlckxhbmd1YWdlIiwibG5nIiwiY29va2llTWludXRlcyIsImNvb2tpZURvbWFpbiIsInF1ZXJ5c3RyaW5nIiwic2VhcmNoIiwid2luZG93IiwibG9jYXRpb24iLCJoYXNoIiwicXVlcnkiLCJwYXJhbXMiLCJwb3MiLCJrZXkiLCJsb29rdXBRdWVyeXN0cmluZyIsImhhc0xvY2FsU3RvcmFnZVN1cHBvcnQiLCJsb2NhbFN0b3JhZ2VBdmFpbGFibGUiLCJsb2NhbFN0b3JhZ2UiLCJ0ZXN0S2V5Iiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJlIiwibG9va3VwTG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImhhc1Nlc3Npb25TdG9yYWdlU3VwcG9ydCIsInNlc3Npb25TdG9yYWdlQXZhaWxhYmxlIiwic2Vzc2lvblN0b3JhZ2UiLCJsb29rdXBTZXNzaW9uU3RvcmFnZSIsIm5hdmlnYXRvciQxIiwibmF2aWdhdG9yIiwibGFuZ3VhZ2VzIiwicHVzaCIsInVzZXJMYW5ndWFnZSIsImxhbmd1YWdlIiwiaHRtbFRhZyIsImRvY3VtZW50RWxlbWVudCIsImdldEF0dHJpYnV0ZSIsInBhdGhuYW1lIiwibWF0Y2giLCJBcnJheSIsImxvb2t1cEZyb21QYXRoSW5kZXgiLCJyZXBsYWNlIiwic3ViZG9tYWluIiwibG9va3VwRnJvbVN1YmRvbWFpbkluZGV4IiwiaG9zdG5hbWUiLCJnZXREZWZhdWx0cyIsIm9yZGVyIiwiY2FjaGVzIiwiZXhjbHVkZUNhY2hlRm9yIiwiY29udmVydERldGVjdGVkTGFuZ3VhZ2UiLCJsIiwiQnJvd3NlciIsInNlcnZpY2VzIiwidHlwZSIsImRldGVjdG9ycyIsImluaXQiLCJpMThuT3B0aW9ucyIsImxhbmd1YWdlVXRpbHMiLCJsb29rdXBGcm9tVXJsSW5kZXgiLCJhZGREZXRlY3RvciIsImRldGVjdG9yIiwiZGV0ZWN0IiwiZGV0ZWN0aW9uT3JkZXIiLCJfdGhpcyIsImRldGVjdGVkIiwiZGV0ZWN0b3JOYW1lIiwibWFwIiwiZCIsImdldEJlc3RNYXRjaEZyb21Db2RlcyIsIl90aGlzMiIsImNhY2hlTmFtZSIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/i18next-browser-languagedetector@7.2.0/node_modules/i18next-browser-languagedetector/dist/esm/i18nextBrowserLanguageDetector.js\n");

/***/ })

};
;